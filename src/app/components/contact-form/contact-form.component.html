<div class="container">
  <mat-card>
    <mat-card-header>
      <mat-card-title>
        {{ isEditMode ? 'Modifier' : 'Ajouter' }} un contact
      </mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <form [formGroup]="contactForm" (ngSubmit)="onSubmit()">
        <mat-form-field>
          <input matInput formControlName="first_name" placeholder="Prénom">
          <mat-error *ngIf="first_name?.hasError('required')">
            Champ obligatoire
          </mat-error>
          <mat-error *ngIf="first_name?.hasError('minLength')">
            Minimum 2 caractères
          </mat-error>
        </mat-form-field>
        
        <mat-form-field>
          <input matInput formControlName="last_name" placeholder="Nom">
          <mat-error *ngIf="last_name?.hasError('required')">
            Champ obligatoire
          </mat-error>
          <mat-error *ngIf="last_name?.hasError('minLength')">
            Minimum 2 caractères
          </mat-error>
        </mat-form-field>
        
        <mat-form-field>
          <input matInput formControlName="email" placeholder="Email">
          <mat-error *ngIf="email?.hasError('required')">
            Champ obligatoire
          </mat-error>
          <mat-error *ngIf="email?.hasError('email')">
            Email invalide
          </mat-error>
        </mat-form-field>
        
        <mat-form-field>
          <input matInput formControlName="phone" placeholder="Téléphone">
          <mat-error *ngIf="phone?.hasError('pattern')">
            Format invalide
          </mat-error>
        </mat-form-field>
        
        <mat-form-field>
          <input matInput formControlName="photo" placeholder="URL Photo">
          <mat-error *ngIf="photo?.hasError('pattern')">
            Doit commencer par http:// ou https://
          </mat-error>
        </mat-form-field>
        
        <button mat-raised-button 
                type="submit" 
                color="primary"
                [disabled]="contactForm.invalid || loading">
          {{ loading ? 'En cours...' : 'Enregistrer' }}
        </button>
        
        <button mat-button 
                type="button"
                (click)="router.navigate(['/dashboard'])">
          Annuler
        </button>
      </form>
    </mat-card-content>
  </mat-card>
</div>